<!DOCTYPE html>
<html lang="{{ site_language }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {% if redirect_href %}
  <meta http-equiv="refresh" content="0; url={{ redirect_href }}">
  {% endif %}
  <title>{{ page_title }} · {{ site_title }}</title>
  <link rel="stylesheet" href="{{ rel }}{{ asset_manifest["css/vars.css"] }}">
  <link rel="stylesheet" href="{{ rel }}{{ asset_manifest["css/common.css"] }}">
  <link rel="stylesheet" href="{{ rel }}{{ asset_manifest["css/syntax.css"] }}">
  <link rel="stylesheet" href="{{ rel }}{{ asset_manifest["css/desktop.css"] }}" media="(min-width: 768px)">
  <link rel="stylesheet" href="{{ rel }}{{ asset_manifest["css/mobile.css"] }}" media="(max-width: 767px)">
  <link rel="stylesheet" href="{{ rel }}{{ asset_manifest["css/wide-desktop.css"] }}" media="(min-width: 1400px)">
</head>
<body class="wide-bg">
  <header class="{{ header_layout_class }} {{ menu_align_class }}">
    <div class="page">
      <a class="brand" href="{{ home_href }}">
        {% if site.logo %}<img class="brand-logo" src="{{ site.logo_url }}" alt="{{ site.title }} logo">{% endif %}
        <span class="brand-text">
          <span class="brand-title">{{ site.title }}</span>
          {% if site.tagline %}<span class="brand-tagline">{{ site.tagline }}</span>{% endif %}
        </span>
      </a>
      <nav aria-label="Primary" class="nav-desktop site-nav">
        <ul>
          {% for item in nav_items %}
          <li>
            <a href="{{ item.href }}"{% if item.is_active %} aria-current="page"{% endif %}>
              {{ item.label }}
            </a>
          </li>
          {% endfor %}
        </ul>
      </nav>
      <nav aria-label="Primary" class="nav-mobile">
        <details class="menu">
          <summary aria-label="Open menu">☰ Menu</summary>
          <div class="menu-overlay">
            <ul>
              {% for item in nav_items %}
              <li>
                <a href="{{ item.href }}"{% if item.is_active %} aria-current="page"{% endif %}>
                  {{ item.label }}
                </a>
              </li>
              {% endfor %}
            </ul>
          </div>
        </details>
      </nav>
    </div>
  </header>
  <main>
    <div class="page">
      {% block content %}{% endblock %}
    </div>
  </main>
  <footer>
    <div class="page">
      <p>{{ footer_copyright }}</p>
      {% if rss_visible %}
      <div class="footer-links">
        <a class="footer-link rss-link" href="{{ rel }}rss.xml" aria-label="RSS feed">
          <img src="{{ (rel ~ asset_manifest["icons/rss.svg"]) | safe }}" alt="" width="18" height="18">
          <span>RSS</span>
        </a>
      </div>
      {% endif %}
      {% if footer_show_stbl %}
      <p>Generated by <a href="https://github.com/jgaa/stbl">stbl</a> on {{ build_date_ymd }}</p>
      {% endif %}
    </div>
  </footer>
  <script>
    (function () {
      var nodes = document.querySelectorAll("time.js-local-time");
      if (!nodes.length) return;
      for (var i = 0; i < nodes.length; i++) {
        var node = nodes[i];
        var value = node.getAttribute("datetime");
        if (!value) continue;
        var date = new Date(value);
        if (Number.isNaN(date.getTime())) continue;
        var formatted = date.toLocaleString(undefined, {
          year: "numeric",
          month: "long",
          day: "numeric",
          hour: "2-digit",
          minute: "2-digit",
          hour12: false,
          timeZoneName: "short"
        });
        node.textContent = formatted;
      }
    })();
  </script>
  <script>
    document.addEventListener("click", function (e) {
      var a = e.target.closest(".nav-mobile details.menu[open] .menu-overlay a");
      if (!a) return;
      var details = e.target.closest("details.menu");
      if (details) details.removeAttribute("open");
    });
  </script>
  <script>
    document.addEventListener("click", function (e) {
      var openMenu = document.querySelector(".nav-mobile details.menu[open]");
      if (!openMenu) return;
      if (openMenu.contains(e.target)) return;
      openMenu.removeAttribute("open");
    });
  </script>
</body>
</html>
