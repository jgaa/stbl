<!DOCTYPE html>
<html lang="{{ site_language }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {% if redirect_href %}
  <meta http-equiv="refresh" content="0; url={{ redirect_href }}">
  {% endif %}
  <title>{{ page_title }} Â· {{ site_title }}</title>
  <link rel="stylesheet" href="{{ rel }}{{ asset_manifest["css/vars.css"] }}">
  <link rel="stylesheet" href="{{ rel }}{{ asset_manifest["css/common.css"] }}">
  <link rel="stylesheet" href="{{ rel }}{{ asset_manifest["css/syntax.css"] }}">
  <link rel="stylesheet" href="{{ rel }}{{ asset_manifest["css/desktop.css"] }}" media="(min-width: 768px)">
  <link rel="stylesheet" href="{{ rel }}{{ asset_manifest["css/mobile.css"] }}" media="(max-width: 767px)">
  <link rel="stylesheet" href="{{ rel }}{{ asset_manifest["css/wide-desktop.css"] }}" media="(min-width: 1400px)">
</head>
<body class="wide-bg">
  {% include "partials/header.html" %}
  <main>
    <div class="page">
      {% block content %}{% endblock %}
    </div>
  </main>
  {% include "partials/footer.html" %}
  <script>
    (function () {
      var nodes = document.querySelectorAll("time.js-local-time");
      if (!nodes.length) return;
      for (var i = 0; i < nodes.length; i++) {
        var node = nodes[i];
        var value = node.getAttribute("datetime");
        if (!value) continue;
        var date = new Date(value);
        if (Number.isNaN(date.getTime())) continue;
        var formatted = date.toLocaleString(undefined, {
          year: "numeric",
          month: "long",
          day: "numeric",
          hour: "2-digit",
          minute: "2-digit",
          hour12: false,
          timeZoneName: "short"
        });
        node.textContent = formatted;
      }
    })();
  </script>
  <script>
    document.addEventListener("click", function (e) {
      var a = e.target.closest(".nav-mobile details.menu[open] .menu-overlay a");
      if (!a) return;
      var details = e.target.closest("details.menu");
      if (details) details.removeAttribute("open");
    });
  </script>
  <script>
    document.addEventListener("click", function (e) {
      var openMenu = document.querySelector(".nav-mobile details.menu[open]");
      if (!openMenu) return;
      if (openMenu.contains(e.target)) return;
      openMenu.removeAttribute("open");
    });
  </script>
  <script>
    (function () {
      document.documentElement.classList.add("js");

      function fallbackCopy(text) {
        return new Promise(function (resolve, reject) {
          try {
            var textarea = document.createElement("textarea");
            textarea.value = text;
            textarea.setAttribute("readonly", "");
            textarea.style.position = "absolute";
            textarea.style.left = "-9999px";
            document.body.appendChild(textarea);
            textarea.select();
            var ok = document.execCommand("copy");
            document.body.removeChild(textarea);
            if (ok) {
              resolve();
            } else {
              reject(new Error("copy failed"));
            }
          } catch (err) {
            reject(err);
          }
        });
      }

      document.addEventListener("click", function (e) {
        var button = e.target.closest("[data-copy-button]");
        if (!button) return;
        var container = button.closest("[data-codeblock]");
        if (!container) return;
        var code = container.querySelector("pre > code");
        if (!code) return;
        var text = code.textContent || "";
        var original = button.textContent;
        var setLabel = function (label) {
          button.textContent = label;
          setTimeout(function () {
            button.textContent = original;
          }, 1200);
        };

        var op = null;
        if (navigator.clipboard && navigator.clipboard.writeText) {
          op = navigator.clipboard.writeText(text);
        } else {
          op = fallbackCopy(text);
        }
        op.then(function () {
          setLabel("Copied");
        }).catch(function () {
          setLabel("Failed");
        });
      });
    })();
  </script>
</body>
</html>
